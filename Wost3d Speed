local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

if player.PlayerGui:FindFirstChild("Wost3dUnifiedHub") then
    player.PlayerGui.Wost3dUnifiedHub:Destroy()
end

local screenGui = Instance.new("ScreenGui", player.PlayerGui)
screenGui.Name = "Wost3dUnifiedHub"
screenGui.ResetOnSpawn = false

-- PALETA DE CORES: VERMELHO VIBRANTE E FORTE
local Cores = {
    Fundo = Color3.fromRGB(25, 0, 0), -- Fundo levemente menos escuro
    Cards = Color3.fromRGB(45, 5, 5), -- Cards internos
    Accent = Color3.fromRGB(255, 0, 0), -- VERMELHO PURO/FORTE
    Texto = Color3.fromRGB(255, 255, 255),
    BotaoOff = Color3.fromRGB(70, 15, 15),
    BotaoOn = Color3.fromRGB(255, 0, 0)
}

local Config = {
    [1] = {Enabled = false, Speed = 30.5, Key = nil, Conn = nil, Name = "SPEED COM BRAINROT"},
    [2] = {Enabled = false, Speed = 60.5, Key = nil, Conn = nil, Name = "SPEED SEM BRAINROT"}
}

-- FRAME PRINCIPAL
local Main = Instance.new("Frame", screenGui)
Main.Size = UDim2.new(0, 340, 0, 420)
Main.Position = UDim2.new(0.5, -170, 0.4, 0)
Main.BackgroundColor3 = Cores.Fundo
Main.BorderSizePixel = 0
Main.ClipsDescendants = true
Instance.new("UICorner", Main).CornerRadius = UDim.new(0, 18)

-- BORDA BRILHANTE (STROKE)
local UIStroke = Instance.new("UIStroke", Main)
UIStroke.Color = Cores.Accent
UIStroke.Thickness = 2.5 -- Borda um pouco mais grossa para destacar o vermelho
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- BARRA DE TÍTULO
local TitleBar = Instance.new("Frame", Main)
TitleBar.Size = UDim2.new(1, 0, 0, 50)
TitleBar.BackgroundTransparency = 1

local Title = Instance.new("TextLabel", TitleBar)
Title.Size = UDim2.new(1, -60, 1, 0)
Title.Position = UDim2.new(0, 20, 0, 0)
Title.Text = "WOST3D SPEED ⚡"
Title.TextColor3 = Cores.Accent
Title.Font = Enum.Font.GothamBlack
Title.TextSize = 22
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.BackgroundTransparency = 1

local Minimized = false
local MinBtn = Instance.new("TextButton", TitleBar)
MinBtn.Size = UDim2.new(0, 35, 0, 35)
MinBtn.Position = UDim2.new(1, -45, 0, 7)
MinBtn.BackgroundColor3 = Cores.Cards
MinBtn.Text = "-"
MinBtn.TextColor3 = Cores.Texto
MinBtn.Font = Enum.Font.GothamBold
MinBtn.TextSize = 20
Instance.new("UICorner", MinBtn).CornerRadius = UDim.new(0, 10)

MinBtn.MouseButton1Click:Connect(function()
    Minimized = not Minimized
    local targetSize = Minimized and UDim2.new(0, 340, 0, 50) or UDim2.new(0, 340, 0, 420)
    TweenService:Create(Main, TweenInfo.new(0.4, Enum.EasingStyle.Quart, Enum.EasingDirection.Out), {Size = targetSize}):Play()
    MinBtn.Text = Minimized and "+" or "-"
end)

-- FUNÇÃO CRIAR SEÇÃO
local function CreateSection(id, yPos)
    local section = Instance.new("Frame", Main)
    section.Size = UDim2.new(1, -30, 0, 165)
    section.Position = UDim2.new(0, 15, 0, yPos)
    section.BackgroundColor3 = Cores.Cards
    Instance.new("UICorner", section).CornerRadius = UDim.new(0, 12)

    local nameL = Instance.new("TextLabel", section)
    nameL.Size = UDim2.new(1, -10, 0, 40)
    nameL.Position = UDim2.new(0, 12, 0, 5)
    nameL.Text = Config[id].Name
    nameL.TextColor3 = Cores.Texto
    nameL.Font = Enum.Font.GothamBold
    nameL.TextSize = 17 
    nameL.BackgroundTransparency = 1
    nameL.TextXAlignment = Enum.TextXAlignment.Left

    local valL = Instance.new("TextLabel", section)
    valL.Size = UDim2.new(0.6, 0, 0, 30)
    valL.Position = UDim2.new(0, 12, 0, 45)
    valL.Text = "Velocidade: " .. string.format("%.1f", Config[id].Speed)
    valL.TextColor3 = Cores.Accent
    valL.Font = Enum.Font.GothamSemibold
    valL.TextSize = 16
    valL.BackgroundTransparency = 1
    valL.TextXAlignment = Enum.TextXAlignment.Left

    local function CreateMath(txt, xOff, delta)
        local b = Instance.new("TextButton", section)
        b.Size = UDim2.new(0, 35, 0, 35)
        b.Position = UDim2.new(1, xOff, 0, 42)
        b.Text = txt
        b.BackgroundColor3 = Cores.BotaoOff
        b.TextColor3 = Cores.Texto
        b.Font = Enum.Font.GothamBold
        b.TextSize = 20
        Instance.new("UICorner", b).CornerRadius = UDim.new(0, 8)
        
        b.MouseButton1Click:Connect(function()
            Config[id].Speed = math.max(0, Config[id].Speed + delta)
            valL.Text = "Velocidade: " .. string.format("%.1f", Config[id].Speed)
            
            local tw = TweenService:Create(b, TweenInfo.new(0.1), {BackgroundColor3 = Cores.Accent})
            tw:Play()
            tw.Completed:Connect(function()
                TweenService:Create(b, TweenInfo.new(0.2), {BackgroundColor3 = Cores.BotaoOff}):Play()
            end)
        end)
    end
    CreateMath("+", -45, 0.5)
    CreateMath("-", -90, -0.5)

    local toggleBtn = Instance.new("TextButton", section)
    toggleBtn.Size = UDim2.new(1, -24, 0, 40)
    toggleBtn.Position = UDim2.new(0, 12, 0, 85)
    toggleBtn.BackgroundColor3 = Cores.BotaoOff
    toggleBtn.Text = "STATUS: DESLIGADO"
    toggleBtn.TextColor3 = Cores.Texto
    toggleBtn.Font = Enum.Font.GothamBlack
    toggleBtn.TextSize = 15
    Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0, 10)

    local keyBtn = Instance.new("TextButton", section)
    keyBtn.Size = UDim2.new(1, -24, 0, 30)
    keyBtn.Position = UDim2.new(0, 12, 0, 130)
    keyBtn.BackgroundColor3 = Color3.fromRGB(40, 0, 0)
    keyBtn.Text = "CLIQUE PARA BIND"
    keyBtn.TextColor3 = Cores.Accent
    keyBtn.Font = Enum.Font.GothamSemibold
    keyBtn.TextSize = 13
    Instance.new("UICorner", keyBtn).CornerRadius = UDim.new(0, 8)

    keyBtn.MouseButton1Click:Connect(function()
        keyBtn.Text = "... PRESSIONE UMA TECLA ..."
        local conn; conn = UIS.InputBegan:Connect(function(i)
            if i.UserInputType == Enum.UserInputType.Keyboard then
                Config[id].Key = i.KeyCode
                keyBtn.Text = "ATALHO: " .. i.KeyCode.Name:upper()
                conn:Disconnect()
            end
        end)
    end)

    local function Toggle()
        Config[id].Enabled = not Config[id].Enabled
        local targetColor = Config[id].Enabled and Cores.BotaoOn or Cores.BotaoOff
        local targetText = Config[id].Enabled and "STATUS: LIGADO" or "STATUS: DESLIGADO"
        
        TweenService:Create(toggleBtn, TweenInfo.new(0.3), {BackgroundColor3 = targetColor}):Play()
        toggleBtn.Text = targetText
        
        if Config[id].Enabled then
            Config[id].Conn = RunService.RenderStepped:Connect(function()
                local char = player.Character
                local hrp = char and char:FindFirstChild("HumanoidRootPart")
                local hum = char and char:FindFirstChildOfClass("Humanoid")
                if hrp and hum and hum.MoveDirection.Magnitude > 0 then
                    hrp.AssemblyLinearVelocity = Vector3.new(hum.MoveDirection.X * Config[id].Speed, hrp.AssemblyLinearVelocity.Y, hum.MoveDirection.Z * Config[id].Speed)
                end
            end)
        elseif Config[id].Conn then
            Config[id].Conn:Disconnect()
        end
    end

    toggleBtn.MouseButton1Click:Connect(Toggle)
    UIS.InputBegan:Connect(function(i, gp)
        if not gp and Config[id].Key and i.KeyCode == Config[id].Key then Toggle() end
    end)
end

CreateSection(1, 60)
CreateSection(2, 235)

-- SISTEMA DE ARRASTAR (SMOOTH)
local drag, dStart, sPos
TitleBar.InputBegan:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then
        drag = true dStart = i.Position sPos = Main.Position
    end
end)
UIS.InputChanged:Connect(function(i)
    if drag and (i.UserInputType == Enum.UserInputType.MouseMovement or i.UserInputType == Enum.UserInputType.Touch) then
        local delta = i.Position - dStart
        TweenService:Create(Main, TweenInfo.new(0.12, Enum.EasingStyle.Sine), {Position = UDim2.new(sPos.X.Scale, sPos.X.Offset + delta.X, sPos.Y.Scale, sPos.Y.Offset + delta.Y)}):Play()
    end
end)
UIS.InputEnded:Connect(function(i)
    if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then drag = false end
end)
